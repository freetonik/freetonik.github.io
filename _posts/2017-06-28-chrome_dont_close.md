---
layout: post
title: Хром и закрытие окна
category: Design
cover_url: "/images/posts/chrome_logo.png"
summary: "Хром под Мак не уважает твои вкладки."
---

Chrome под macOS (как и [другие продукты Гугла](user_input)) считает, что введенный пользователем текст — это важно, а открытые пользователем вкладки — это не очень важно. Поэтому можно нажать на "Close" (красная кнопка в углу окна), и окно со всеми вкладками закроется без предупреждений. Вкладки можно восстановить одну за одной нажатиями Cmd+Shift+T.

Я никогда не пользуюсь кнопками в окнах, но для многих — это проблема. Я погуглил и нашел кучу жалоб и попыток что-то сделать. Раньше Гугл поддерживали специальное расширение Chrome Toolbox с расширенными настройками, но потом его перестали поддерживать, сославшись на то, что все нужные настройки будут в самом приложении. Но "Warn before closing multiple tabs" так и не появилось в самом Хроме.

Один дурацкий способ защититься от этого — открыть страницу, которая переспрашивает о закрытии. Браузеры так ведут себя по умолчанию, например, в формах: попробуйте начать вводить текст где-нибудь, и закрыть вкладку. Браузер спросит "Вы уверены?". Такое же поведение можно эмулировать без форм JavaScript'ом.

Я сделал **[простую страничку](https://rakh.im/chrome-stop-closing/)**, которая предупреждает о своем закрытии. Можно открыть ее, закрепить вкладку (pin tab) чтобы не мешалась, и работать. Если попытаться закрыть окно, то браузер переспросит:

![chrome exit confirmation](/images/posts/chrome_confirmation.png)

Возможно, это плюс, но: это диалоговое окно вызывает какую-то повышенную когнитивную нагрузку. Моментально не получается понять, что нажимать — Leave или Stay. Эти слова из разряда «вообще, понятно, но в данной ситуации — шта».

Заходите: [https://rakh.im/chrome-stop-closing/](https://rakh.im/chrome-stop-closing/)

**UPD:**

1\. Оказывается, у многих еще проблемы со случайным закрытием через Cmd+Q. Тут решение намного проще: в меню Chrome можно поставить галочку Warn Before Quitting (снова оцените дизайн интерфейсов Гугла: настройка не в настройках, а в меню):

![chrome exit confirmation](/images/posts/chrome_menu_setting.png)

Еще дополнительный способ защититься от случайного закрытия любого приложения — это изменить комбинацию клавищ для конкретного приложения на уровне настроек ОС:

![chrome exit confirmation](/images/posts/macos_custom_keyboard_shortcuts.png)

Я сделал Cmd+Alt+Q для закрытия, и случайно так уже не нажму.

2\. [Советуют](https://twitter.com/awdeeru/status/880035547225493505) включить настройку «при запуске открывать ранее открытые вкладки». Это хорошо, но речь идет про закрытие окна, а не закрытие Хрома.